
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.6.2.js" integrity="sha256-pkn2CUZmheSeyssYw3vMp1+xyub4m+e+QK4sQskvuo4=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.2.min.js" integrity="sha256-2krYZKh//PcchRtd+H+VyyQoZ/e3EcrkxhM8ycwASPA=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.2.slim.js" integrity="sha256-OflJKW8Z8amEUuCaflBZJ4GOg4+JnNh9JdVfoV+6biw=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.2.slim.min.js" integrity="sha256-E3P3OaTZH+HlEM7f1gdAT3lHAn4nWBZXuYe89DFg2d0=" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function(){
            $( "#trigger_new_boleto" ).click(function() {
                $("#trigger_new_boleto").css("display","none")
                $("#close_new_boleto").css("display","")
                $("#contain").css("display","")
            });
            $( "#close_new_boleto" ).click(function() {
                $("#trigger_new_boleto").css("display","")
                $("#close_new_boleto").css("display","none")
                $("#contain").css("display","none")
            });

            $("#qrb").click(function(){
                $("#botones").css("display","none");
                $("#qrreaderblock").css("display","");
                function onScanSuccess(decodedText, decodedResult) {
    console.log(`Code matched = ${decodedText}`, decodedResult);
    const element = $("#code");
    const textToReplace = element.text();
    const newText = decodedResult.decodedText;
    $("#reader").css("border","0px");
    element.text(newText); 
}
let qrboxFunction = function(viewfinderWidth, viewfinderHeight) {
    let minEdgePercentage = 0.4; // 70%
    let minEdgeSize = Math.min(viewfinderWidth, viewfinderHeight);
    let qrboxSize = Math.floor(minEdgeSize * minEdgePercentage);
    return {
        width: qrboxSize,
        height: qrboxSize
    };
}

let html5QrcodeScanner = new Html5QrcodeScanner(
    "reader",
    { fps: 60, qrbox: qrboxFunction },
    /* verbose= */ false);
html5QrcodeScanner.render(onScanSuccess);
                $("#qr-reader__dashboard").css("width","90%");
                $("#qr-reader__dashboard_section").css("width","90%");
            });

            $("#barcodeb").click(function(){
                $("#botones").css("display","none");
                $("#qrreaderblock").css("display","");
                function onScanSuccess(decodedText, decodedResult) {
    console.log(`Code matched = ${decodedText}`, decodedResult);
    const element = $("#code");
    const textToReplace = element.text();
    const newText = decodedResult.decodedText;
    $("#reader").css("border","0px");
    element.text(newText); 
}
let qrboxFunction = function(viewfinderWidth, viewfinderHeight) {
    let minEdgePercentage = 0.2; // 70%
    let minEdgeSize = Math.min(viewfinderWidth, viewfinderHeight);
    let qrboxSize = Math.floor(minEdgeSize * minEdgePercentage);
    return {
        width: 300,
        height: 60
    };
}

let html5QrcodeScanner = new Html5QrcodeScanner(
    "reader",
    { fps: 60, qrbox: qrboxFunction },
    /* verbose= */ false);
html5QrcodeScanner.render(onScanSuccess);
                $("#qr-reader__dashboard").css("width","90%");
                $("#qr-reader__dashboard_section").css("width","90%");
            });
        });
    </script>
    <title>Document</title>
</head>
<body>
    <div class="logo">   
        <img src="logo_pie.png" alt="">
        <h1 id="code" ></h1>
    </div>
    
    <div id="botones" class="flex-container">
        <div id="qrb" class="flex-items">
            <div class="imgqrflex">
                <div class="flex-items-img">
                    <img class="img1" src="qr.png" alt="">
                </div>
                <div class="flex-items-img">
                    <h1 class="titlimg">COMPROBAR MEDIANTE CODIGO QR</h1>
                </div>         
            </div>
        </div>
        <div id="barcodeb" class="flex-items">
            <div class="imgqrflex" >
                <div class="flex-items-img" style="    margin: 12% 12%;">
                    <img class="img2" src="barcode.png" alt="">
                </div>
                <div class="flex-items-img" style="margin-top: -30%;">
                    <h1 class="titlimg">COMPROBAR MEDIANTE CODIGO DE BARRAS</h1>
                </div>         
            </div>
        </div>
    </div>
    <div id="qrreaderblock" class="qrreaderblock" style="display: none;">
        <div id="reader" width="300px"></div>
        <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
    </div>
    <script src="script.js"></script>
</body>
</html>


